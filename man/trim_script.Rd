% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/llm_mapping.R
\name{trim_script}
\alias{trim_script}
\title{Extract R Code from LLM Response}
\usage{
trim_script(
  response,
  add_header = TRUE,
  data_analysis = NULL,
  target_sdmx = NULL,
  llm_config = NULL,
  output_file = NULL
)
}
\arguments{
\item{response}{Character. The full LLM response}

\item{add_header}{Logical. Whether to add header and footer (default: TRUE)}

\item{data_analysis}{Optional. Data analysis object for header metadata}

\item{target_sdmx}{Optional. Target SDMX metadata for header}

\item{llm_config}{Optional. LLM config for header}

\item{output_file}{Character. Optional file path to save trimmed script}
}
\value{
Character string containing extracted R code
}
\description{
Extracts R code from LLM response, removing markdown code blocks and other formatting.
}
\examples{
\dontrun{
# Get full response from LLM
response <- generate_mapping_script(data_analysis, target_sdmx, config)

# Extract just the R code
r_code <- trim_script(response)

# Or with header and save to file
script <- trim_script(response, 
                     add_header = TRUE,
                     data_analysis = data_analysis,
                     target_sdmx = target_sdmx,
                     llm_config = config,
                     output_file = "transform.R")
}
}
